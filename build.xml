<?xml version="1.0" encoding="utf-8"?>
<project name="crossxhr" default="compile_static">
    <taskdef resource="flexTasks.tasks" />

    <property environment="env" />

    <condition property="MXMLC" value="mxmlc.exe">
        <os family="windows" />
    </condition>
    <condition property="MXMLC" value="mxmlc">
        <os family="unix" />
    </condition>
    <condition property="COMPC" value="compc.exe">
        <os family="windows" />
    </condition>
    <condition property="COMPC" value="compc">
        <os family="unix" />
    </condition>

    <target name="compile_static">
        <exec executable="${env.FLEX_HOME}/bin/${MXMLC}" failonerror="true">
            <arg line="-file-specs ${input}" />
            <arg line="-compress=true" />
            <arg line="-static-link-runtime-shared-libraries=true"/>
            <arg line="-optimize=true" />
            <arg line="-strict=true" />
            <arg line="-output=${output}" />
        </exec>
    </target>
</project>
